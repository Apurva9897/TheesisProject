<!-- Main Dashboard Container -->
<div class="dashboard-container">
  <!-- Top Navigation Bar -->
<nav class="navbar">
  <div class="navbar-brand">MyShop</div>
  <div class="navbar-links">
    <a href="#">My Account</a>
    <a href="#">
      total <span class="badge bg-success">{{ total }}</span>
    </a>
    <a href="#">Wishlist</a>
    <a href="#">Search</a>
  </div>
</nav>

  <!-- Sidebar Navigation -->
  <nav class="sidebar">
    <ul>
      <li [class.active]="activeTab === 'dashboard'" (click)="setActiveTab('dashboard')">Dashboard</li>
      <li [class.active]="activeTab === 'place-order'" (click)="setActiveTab('place-order')">Confirm Order</li>
      <li [class.active]="activeTab === 'order-history'" (click)="setActiveTab('order-history')">Order History</li>
      <li [class.active]="activeTab === 'help'" (click)="setActiveTab('help')">Help</li>
    </ul>
  </nav>

  <!-- Main Content Area -->
  <div class="content">
    <!-- Dashboard View -->
    <div *ngIf="activeTab === 'dashboard'">
      <h1 class="welcome-text">Welcome, {{ customerName }}</h1>
      <h2 class="section-header">Featured Products</h2>
      <hr>

      <div class="products-grid">
        <div *ngFor="let product of products" class="product-card">
          <div class="product-image">
            <img [src]="'assets/' + product.name.split(' ').join('') + '.png'" [alt]="product.name" />
          </div>
          <div class="product-details">
            <h3>{{ product.name }}</h3>
            <p class="product-description">{{ product.description }}</p>
            <p class="product-price">${{ product.price.toFixed(2) }}</p>

            <p class="stock-info" [ngClass]="{
              'in-stock': product.stock > 10,
              'low-stock': product.stock > 0 && product.stock <= 10,
              'out-of-stock': product.stock === 0
            }">
              {{ getStockLabel(product.stock) }}
            </p>

            <p *ngIf="orderErrors[product.id]" class="error-message">{{ orderErrors[product.id] }}</p>

            <div class="product-controls">
              <div class="quantity-selector">
                <span>Quant:</span>
                <button class="qty-btn" (click)="decrementQuantity(product.id)" [disabled]="product.stock === 0">-</button>
                <input type="text"
                       [(ngModel)]="orderQuantities[product.id]"
                       (change)="validateQuantity(product.id, product.stock)"
                       class="qty-input"
                       [disabled]="product.stock === 0">
                <button class="qty-btn"
                        (click)="incrementQuantity(product.id, product.stock)"
                        [disabled]="product.stock === 0 || orderQuantities[product.id] >= product.stock">+</button>
              </div>
              <button class="add-to-cart-btn"
                      (click)="addToCart(product.id)"
                      [disabled]="product.stock === 0 || orderErrors[product.id]">
                Add to Cart
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Other Tabs -->
    <div *ngIf="activeTab === 'place-order'">
      <h2 class="section-header">Confirm Your Order</h2>
      <p>This section will be implemented in the next phase.</p>
    </div>

    <div *ngIf="activeTab === 'order-history'">
      <h2 class="section-header">Your Order History</h2>
      <p>This section will be implemented in the next phase.</p>
    </div>

    <div *ngIf="activeTab === 'help'">
      <h2 class="section-header">Need Help?</h2>
      <p>This section will be implemented in the next phase.</p>
    </div>
  </div>
  <button class="btn btn-success confirm-order-btn" (click)="navigateToConfirmOrder()">
    Confirm Order
  </button>
</div>
