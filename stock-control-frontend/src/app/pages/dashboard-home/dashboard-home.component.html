<div class="dashboard-container">
    <h1>Welcome, Admin</h1>
  
    <!-- Top Summary Cards -->
    <div class="cards">
      <!-- Total Inventory Card -->
      <div class="card total-inventory">
        <div class="card-title">Total Inventory</div>
        <div class="card-value">{{ totalInventory }}</div>
      </div>
  
      <!-- Pending Orders Card -->
      <div class="card pending-orders">
        <div class="card-title">Pending Orders</div>
        <div class="card-value">{{ pendingOrders }}</div>
      </div>
  
      <!-- Low Stock Alerts Card -->
      <div class="card low-stock-alerts">
        <div class="card-title">Low Stock Alerts</div>
        <div class="card-value">
          {{ lowStockList.length > 0 ? lowStockList.length : 'No low stock items' }}
        </div>
      </div>
    </div>
  
    <!-- Charts Section -->
    <div class="charts">
      <!-- Top Sold Products Chart -->
      <div class="chart-card">
        <h3>Top 3 Sold Products</h3>
        <apx-chart 
          [series]="topSoldSeries"
          [chart]="topSoldChartOptions.chart"
          [xaxis]="topSoldChartOptions.xaxis"
          [colors]="topSoldChartOptions.colors"
          [dataLabels]="topSoldChartOptions.dataLabels">
        </apx-chart>
      </div>
  
      <!-- Least Sold Products Chart -->
      <div class="chart-card">
        <h3>Top 3 Least Sold Products</h3>
        <apx-chart 
          [series]="leastSoldSeries"
          [chart]="leastSoldChartOptions.chart"
          [xaxis]="leastSoldChartOptions.xaxis"
          [colors]="leastSoldChartOptions.colors"
          [dataLabels]="leastSoldChartOptions.dataLabels">
        </apx-chart>
      </div>

      <div class="chart-card">
        <h3>Predicted Future Sales (Next 15 Days)</h3>
        <apx-chart 
          [series]="futurePredictionSeries"
          [chart]="futurePredictionChartOptions.chart"
          [xaxis]="futurePredictionChartOptions.xaxis"
          [colors]="futurePredictionChartOptions.colors"
          [dataLabels]="futurePredictionChartOptions.dataLabels"
          [stroke]="futurePredictionChartOptions.stroke"
          [yaxis]="futurePredictionChartOptions.yaxis">
        </apx-chart>
      </div>    
      <!-- Product-wise Future Sales Graph -->
<div class="chart-card">
  <h3>Product-wise Future Sales (Next 90 Days)</h3>

  <label for="productSelect">Select Product:</label>
  <select [(ngModel)]="selectedProductName" id="productSelect">
    <option value="">Select a product</option>
    <option *ngFor="let name of productNames" [value]="name">{{ name }}</option>
  </select>
  <button (click)="fetchPredictionByProduct(selectedProductName)">Generate</button>

  <!-- ONLY render chart if data is present -->
  <apx-chart
    *ngIf="futureSalesByProductSeries.length"
    [series]="futureSalesByProductSeries"
    [chart]="futureSalesByProductChartOptions.chart"
    [xaxis]="futureSalesByProductChartOptions.xaxis"
    [colors]="futureSalesByProductChartOptions.colors"
    [dataLabels]="futureSalesByProductChartOptions.dataLabels"
    [stroke]="futureSalesByProductChartOptions.stroke"
    [yaxis]="futureSalesByProductChartOptions.yaxis"
    [title]="futureSalesByProductChartOptions.title">
  </apx-chart>
</div>

    
    </div>
  </div>
  